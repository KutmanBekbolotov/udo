<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Цифровое служебное удостоверение</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-1:#0b4eb1; 
      --bg-2:#1a66d3; 
      --brand:#1e5fd6;
      --ink:#0f172a;   
      --card:#ffffff; 
      --shadow:0 20px 40px rgba(0,0,0,.25);
      --radius:28px;
      --pad: clamp(12px, 3vw, 24px);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,Helvetica,sans-serif;
      background:var(--bg-1);
      color:var(--ink);
      display:flex; align-items:flex-start; justify-content:center;
      padding: env(safe-area-inset-top) var(--pad) calc(var(--pad) + env(safe-area-inset-bottom));
    }

    .phone{
      position:relative; width:min(480px,100%); border-radius:34px; overflow:hidden;
      box-shadow:var(--shadow);
      background:linear-gradient(180deg,var(--bg-1),var(--bg-2));
      min-height: min(680px, 100vh);
      max-height: 100vh;
      display:flex; flex-direction:column;
    }

    .top-ui{position:sticky; top:84px; z-index:5; margin:8px 12px 0; display:flex; justify-content:space-between; gap:8px; pointer-events:none}
    .btn{height:48px; width:48px; border-radius:16px; background:#fff; display:grid; place-items:center; box-shadow:0 8px 18px rgba(0,0,0,.15); pointer-events:auto; border:none}
    .btn svg{width:24px;height:24px;fill:#0e4fb3}

    .mount{position:relative; height:clamp(120px, 20vw, 160px)}
    .mount svg{position:absolute; inset:0; width:100%; height:100%; opacity:.25}

    .card{background:var(--card); border-radius:var(--radius); margin: clamp(-40px, -6vw, -50px) var(--pad) var(--pad); padding:clamp(14px, 2.8vw, 20px); box-shadow:0 10px 30px rgba(2,17,79,.2)}

    .row-flag{display:grid; grid-template-columns:1fr auto 1fr; align-items:center; gap:8px; color:#1a66d3; font-weight:700; font-size: clamp(9px, 2.2vw, 11px)}
    .row-flag > :first-child{justify-self:start}
    .row-flag > :last-child{justify-self:end; text-align:right}
    .coat{height:40px; width:40px; display:grid; place-items:center; border-radius:999px; background:#fff; box-shadow:0 6px 14px rgba(0,0,0,.1); font-size:10px}
    .coat img{object-fit:contain; max-width:100%; max-height:100%}

    h1.title{margin:8px 0 0; text-align:center; color:var(--brand); font-weight:800; font-size:clamp(16px, 4.8vw, 22px); line-height:1.15}

    .fullname{margin-top:8px; text-align:center; font-weight:600; font-size:clamp(16px, 4.8vw, 22px); line-height:1.35; 
      overflow-wrap:anywhere; text-wrap:balance}

    .position{margin-top:8px; text-align:center; font-weight:700; font-size:clamp(12px, 3.6vw, 16px)}
    .division{display:block; margin-top:3px; color:#334155; font-weight:600; font-size:clamp(11px, 3.2vw, 14px)}

    .org{margin-top:8px; text-align:center; font-weight:700; font-size:clamp(11px, 3.2vw, 16px)}

    .info{display:grid; grid-template-columns:120px 1fr; gap:12px; align-items:start; margin-top:12px}
    .media{display:grid; grid-template-columns:100px 1fr; gap:12px; align-items:start; margin-top:12px}

    .photo{border-radius:12px; overflow:hidden; background:#f8fafc; margin-top:2px; 
      width: min(32vw, 120px); aspect-ratio: 3 / 4; justify-self:center}
    .photo img{width:100%; height:100%; object-fit:cover}

    .qr{border-radius:14px; padding:6px}
    .qr img{display:block; width:min(60vw, 180px); margin:0 auto; height:auto}

    .base{margin:0 var(--pad) var(--pad); height:14px; border-radius:0 0 var(--radius) var(--radius); background:#124aa6}

    @media (max-width: 560px){
      .info{grid-template-columns:1fr; text-align:center}
      .photo{width:min(40vw, 140px)}
      .card{margin: clamp(-32px, -5vw, -40px) var(--pad) var(--pad)}
    }

    @media (max-width: 380px){
      .card{padding:12px}
      .photo{width:36vw}
      .phone{min-height: min(600px, 100vh)}
    }

    @media (prefers-reduced-transparency: reduce){
      .phone{box-shadow:none}
      .btn{box-shadow:none}
      .card{box-shadow:none}
    }
  </style>
</head>
<body>
  <main class="phone" role="region" aria-label="Превью цифрового удостоверения">
    <div class="top-ui">
      <button class="btn" aria-label="Сканировать QR">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 4a3 3 0 0 0-3 3v1H2V7a5 5 0 0 1 5-5h1v2H7Zm9-2h1a5 5 0 0 1 5 5v1h-2V7a3 3 0 0 0-3-3h-1V2ZM4 16H2v1a5 5 0 0 0 5 5h1v-2H7a3 3 0 0 1-3-3v-1Zm18 0h-2v1a3 3 0 0 1-3 3h-1v2h1a5 5 0 0 0 5-5v-1Z"/></svg>
      </button>
      <button class="btn" aria-label="Меню">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 6h18v2H3V6Zm0 5h18v2H3v-2Zm0 5h18v2H3v-2Z"/></svg>
      </button>
    </div>

    <div class="mount" aria-hidden="true">
      <svg viewBox="0 0 1440 320" preserveAspectRatio="none">
        <path fill="#ffffff" d="M0,160L60,160C120,160,240,160,360,165.3C480,171,600,181,720,192C840,203,960,213,1080,208C1200,203,1320,181,1380,170.7L1440,160L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z"></path>
      </svg>
    </div>

    <section class="card" aria-label="Карточка удостоверения">
      <div class="row-flag">
        <div>КЫРГЫЗ <br> РЕСПУБЛИКАСЫ</div>
        <div class="coat" title="Герб">
          <img src="./assets/Emblem_of_Kyrgyzstan.svg" alt="Герб Кыргызстана" style="width: 34px; height: 34px;" />
        </div>
        <div>КЫРГЫЗСКАЯ <br> РЕСПУБЛИКА</div>
      </div>

      <h1 class="title">ЦИФРОВОЕ СЛУЖЕБНОЕ УДОСТОВЕРЕНИЕ</h1>

      <div class="fullname" id="fullName">Бекболотов Кутман Санжарович</div>
      
      <div class="info">
        <div class="photo" aria-label="Фото сотрудника">
          <img src="https://placehold.co/280x350?text=%D0%A4%D0%BE%D1%82%D0%BE" alt="Фото" />
        </div>
        <div>
          <div class="position" id="position">
            главный специалист по кибербезопасности
            <span class="division" id="division">Координированный центр по кибербезопасности</span>
          </div>
          <div class="org" id="org">
            <div>Центральный аппарат / Государственный комитет <br> национальной безопасности</div>
          </div>
        </div>
      </div>

      <div class="qr" aria-label="QR-код для проверки удостоверения">
        <img src="https://placehold.co/820x820/png?text=QR" alt="QR" />
      </div>
    </section>
    <div class="base" aria-hidden="true"></div>
  </main>

  <script>
    const data = {
      fullName: 'Бекболотов Кутман Санжарович',
      position: 'главный специалист по кибербезопасности',
      division: 'Координированный центр по кибербезопасности',
      org: [
        'Центральный аппарат / Государственный комитет <br> национальной безопасности'
      ],
      photoUrl: './assets/me.jpg',
      qrUrl: './assets/qr.png'
    };
    const $ = (s) => document.querySelector(s);
    if (data.photoUrl) document.querySelector('.photo img').src = data.photoUrl;
    if (data.qrUrl) document.querySelector('.qr img').src = data.qrUrl;
    if (data.fullName) $('#fullName').textContent = data.fullName;
    if (data.position) $('#position').firstChild.nodeValue = data.position + '\n';
    if (data.division) $('#division').textContent = data.division;
    if (data.org && data.org.length){
      $('#org').innerHTML = data.org.map((line)=>`<div>${line}</div>`).join('');
    }

    const nameEl = document.getElementById('fullName');
    const resizeName = () => {
      const parent = nameEl.parentElement;
      let size = parseFloat(getComputedStyle(nameEl).fontSize);
      nameEl.style.whiteSpace = 'nowrap';
      while (nameEl.scrollWidth > parent.clientWidth * 0.92 && size > 14) {
        size -= 1;
        nameEl.style.fontSize = size + 'px';
      }
      nameEl.style.whiteSpace = '';
    };
    window.addEventListener('resize', resizeName, {passive:true});
    window.addEventListener('load', resizeName);
  </script>
</body>
</html>
